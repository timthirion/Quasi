ExternalProject_Add(catch2
  GIT_REPOSITORY https://github.com/catchorg/Catch2
  GIT_TAG v3.4.0
  SOURCE_DIR ${CMAKE_CURRENT_LIST_DIR}/catch2
  BINARY_DIR ${CMAKE_BINARY_DIR}/catch2-build
  INSTALL_DIR ${CMAKE_BINARY_DIR}/catch2-install
  UPDATE_COMMAND ""
  PATCH_COMMAND ""
  CMAKE_ARGS
    -DCMAKE_INSTALL_PREFIX=${CMAKE_BINARY_DIR}/catch2-install
    -DCMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE}
    -DCATCH_INSTALL_DOCS=OFF
    -DCATCH_INSTALL_EXTRAS=ON
)

ExternalProject_Get_property(catch2 INSTALL_DIR)
list(APPEND QUASI_CMAKE_DEFINITIONS "-DCatch2_DIR=${INSTALL_DIR}/lib/cmake/Catch2")
list(APPEND QUASI_CMAKE_DEFINITIONS "-DCMAKE_MODULE_PATH=${INSTALL_DIR}/lib/cmake/Catch2\;${CMAKE_MODULE_PATH}")
